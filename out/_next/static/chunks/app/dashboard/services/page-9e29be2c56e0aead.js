(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[382],{543:function(e,r,i){Promise.resolve().then(i.bind(i,1381))},6490:function(e,r,i){"use strict";i.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i(843).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8219:function(e,r,i){"use strict";i.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i(843).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},2795:function(e,r,i){"use strict";i.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i(843).Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]])},94:function(e,r,i){"use strict";i.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i(843).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},489:function(e,r,i){"use strict";i.d(r,{Z:function(){return n}});/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=(0,i(843).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},1381:function(e,r,i){"use strict";i.r(r),i.d(r,{default:function(){return b}});var n=i(7437),t=i(2265),a=i(94);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,i(843).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);var c=i(6490),d=i(8219),l=i(2795),o=i(489),u=i(575),x=i(5671),g=i(2782),v=i(3549),m=i(3277),h=i(4958),f=i(8681);function b(){let[e,r]=(0,t.useState)([]),[i,b]=(0,t.useState)(!0),[p,k]=(0,t.useState)(!1),[y,j]=(0,t.useState)({name:"",description:"",duration_minutes:60,price:0,currency:"USD",category:"General",practitioner_name:""}),{setTitle:z,setSubtitle:N}=(0,f.$)();(0,t.useEffect)(()=>{w(),z("Services"),N("Manage your business services and pricing")},[]);let w=async()=>{try{let{data:e}=await h.O.from("businesses").select("id").limit(1).single();if(e){let{data:i,error:n}=await h.O.from("services").select("*").eq("business_id",e.id).order("created_at",{ascending:!1});if(n)throw n;r(i||[])}}catch(e){console.error("Error fetching services:",e)}finally{b(!1)}},_=async()=>{if(y.name)try{let{data:i}=await h.O.from("businesses").select("id").limit(1).single();if(!i){console.error("No business found");return}let{data:n,error:t}=await h.O.from("services").insert([{...y,business_id:i.id,is_active:!0,booking_buffer_minutes:15,max_advance_booking_days:30}]).select();if(t)throw t;n&&(r([...e,n[0]]),j({name:"",description:"",duration_minutes:60,price:0,currency:"USD",category:"General",practitioner_name:""}),k(!1))}catch(e){console.error("Error adding service:",e)}},Z=async i=>{try{let{error:n}=await h.O.from("services").delete().eq("id",i);if(n)throw n;r(e.filter(e=>e.id!==i))}catch(e){console.error("Error deleting service:",e)}},S=async i=>{let n=e.find(e=>e.id===i);if(n)try{let{error:t}=await h.O.from("services").update({is_active:!n.is_active}).eq("id",i);if(t)throw t;r(e.map(e=>e.id===i?{...e,is_active:!e.is_active}:e))}catch(e){console.error("Error updating service:",e)}},C=e=>({General:"bg-blue-100 text-blue-800",Consultation:"bg-green-100 text-green-800",Treatment:"bg-purple-100 text-purple-800",Therapy:"bg-orange-100 text-orange-800",Wellness:"bg-pink-100 text-pink-800"})[e]||"bg-gray-100 text-gray-800";return i?(0,n.jsx)("div",{className:"p-6",children:(0,n.jsx)("div",{className:"flex items-center justify-center min-h-96",children:(0,n.jsx)("div",{className:"w-8 h-8 border-4 border-primary border-t-transparent rounded-full animate-spin"})})}):(0,n.jsxs)("div",{className:"p-4 lg:p-6 space-y-6",children:[(0,n.jsx)("div",{className:"flex items-end justify-end",children:(0,n.jsxs)(u.z,{onClick:()=>k(!0),children:[(0,n.jsx)(a.Z,{className:"w-4 h-4 mr-2"}),"Add Service"]})}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,n.jsx)(x.Zb,{children:(0,n.jsxs)(x.Ol,{className:"pb-2",children:[(0,n.jsx)(x.SZ,{children:"Total Services"}),(0,n.jsx)(x.ll,{className:"text-2xl",children:e.length})]})}),(0,n.jsx)(x.Zb,{children:(0,n.jsxs)(x.Ol,{className:"pb-2",children:[(0,n.jsx)(x.SZ,{children:"Active Services"}),(0,n.jsx)(x.ll,{className:"text-2xl text-green-600",children:e.filter(e=>e.is_active).length})]})}),(0,n.jsx)(x.Zb,{children:(0,n.jsxs)(x.Ol,{className:"pb-2",children:[(0,n.jsx)(x.SZ,{children:"Avg Duration"}),(0,n.jsxs)(x.ll,{className:"text-2xl",children:[e.length>0?Math.round(e.reduce((e,r)=>e+r.duration_minutes,0)/e.length):0," min"]})]})}),(0,n.jsx)(x.Zb,{children:(0,n.jsxs)(x.Ol,{className:"pb-2",children:[(0,n.jsx)(x.SZ,{children:"Avg Price"}),(0,n.jsxs)(x.ll,{className:"text-2xl",children:["$",e.length>0?Math.round(e.reduce((e,r)=>e+(r.price||0),0)/e.length):0]})]})})]}),p&&(0,n.jsxs)(x.Zb,{children:[(0,n.jsxs)(x.Ol,{children:[(0,n.jsx)(x.ll,{children:"Add New Service"}),(0,n.jsx)(x.SZ,{children:"Create a new service for your business"})]}),(0,n.jsxs)(x.aY,{className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Service Name"}),(0,n.jsx)(g.I,{value:y.name,onChange:e=>j({...y,name:e.target.value}),placeholder:"Enter service name...",className:"mt-1"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Category"}),(0,n.jsx)("select",{value:y.category,onChange:e=>j({...y,category:e.target.value}),className:"w-full mt-1 px-3 py-2 border border-gray-200 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",children:["General","Consultation","Treatment","Therapy","Wellness"].map(e=>(0,n.jsx)("option",{value:e,children:e},e))})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Description"}),(0,n.jsx)(v.g,{value:y.description,onChange:e=>j({...y,description:e.target.value}),placeholder:"Enter service description...",rows:3,className:"mt-1"})]}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Duration (minutes)"}),(0,n.jsx)(g.I,{type:"number",value:y.duration_minutes,onChange:e=>j({...y,duration_minutes:parseInt(e.target.value)||60}),className:"mt-1"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Price"}),(0,n.jsx)(g.I,{type:"number",value:y.price,onChange:e=>j({...y,price:parseFloat(e.target.value)||0}),className:"mt-1"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Practitioner"}),(0,n.jsx)(g.I,{value:y.practitioner_name,onChange:e=>j({...y,practitioner_name:e.target.value}),placeholder:"Practitioner name...",className:"mt-1"})]})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)(u.z,{onClick:_,children:"Add Service"}),(0,n.jsx)(u.z,{variant:"outline",onClick:()=>k(!1),children:"Cancel"})]})]})]}),(0,n.jsxs)(x.Zb,{children:[(0,n.jsxs)(x.Ol,{children:[(0,n.jsx)(x.ll,{children:"Service Management"}),(0,n.jsx)(x.SZ,{children:"Manage your available services"})]}),(0,n.jsx)(x.aY,{children:0===e.length?(0,n.jsxs)("div",{className:"text-center py-12",children:[(0,n.jsx)(s,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No services yet"}),(0,n.jsx)("p",{className:"text-gray-500",children:"Add your first service to get started."})]}):(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(e=>(0,n.jsx)("div",{className:"p-4 border rounded-lg ".concat(e.is_active?"border-gray-200 bg-white":"border-gray-100 bg-gray-50"),children:(0,n.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,n.jsx)(m.C,{className:C(e.category||"General"),children:e.category||"General"}),(0,n.jsx)(m.C,{variant:e.is_active?"default":"secondary",children:e.is_active?"Active":"Inactive"})]}),(0,n.jsx)("h3",{className:"font-medium text-gray-900 mb-1",children:e.name}),e.description&&(0,n.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:e.description}),(0,n.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,n.jsxs)("span",{className:"flex items-center gap-1",children:[(0,n.jsx)(c.Z,{className:"w-3 h-3"}),e.duration_minutes," min"]}),e.price&&(0,n.jsxs)("span",{className:"flex items-center gap-1",children:[(0,n.jsx)(d.Z,{className:"w-3 h-3"}),"$",e.price]}),e.practitioner_name&&(0,n.jsx)("span",{children:e.practitioner_name})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,n.jsx)(u.z,{variant:"outline",size:"sm",onClick:()=>S(e.id),children:e.is_active?"Deactivate":"Activate"}),(0,n.jsx)(u.z,{variant:"outline",size:"sm",children:(0,n.jsx)(l.Z,{className:"w-4 h-4"})}),(0,n.jsx)(u.z,{variant:"outline",size:"sm",onClick:()=>Z(e.id),children:(0,n.jsx)(o.Z,{className:"w-4 h-4"})})]})]})},e.id))})})]})]})}},3277:function(e,r,i){"use strict";i.d(r,{C:function(){return d}});var n=i(7437);i(2265);var t=i(9143),a=i(9769),s=i(2169);let c=(0,a.j)("inline-flex items-center justify-center rounded-md border border-zinc-200 px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-zinc-950 focus-visible:ring-zinc-950/50 focus-visible:ring-[3px] aria-invalid:ring-red-500/20 dark:aria-invalid:ring-red-500/40 aria-invalid:border-red-500 transition-[color,box-shadow] overflow-hidden dark:border-zinc-800 dark:focus-visible:border-zinc-300 dark:focus-visible:ring-zinc-300/50 dark:aria-invalid:ring-red-900/20 dark:dark:aria-invalid:ring-red-900/40 dark:aria-invalid:border-red-900",{variants:{variant:{default:"border-transparent bg-zinc-900 text-zinc-50 [a&]:hover:bg-zinc-900/90 dark:bg-zinc-50 dark:text-zinc-900 dark:[a&]:hover:bg-zinc-50/90",secondary:"border-transparent bg-zinc-100 text-zinc-900 [a&]:hover:bg-zinc-100/90 dark:bg-zinc-800 dark:text-zinc-50 dark:[a&]:hover:bg-zinc-800/90",destructive:"border-transparent bg-red-500 text-white [a&]:hover:bg-red-500/90 focus-visible:ring-red-500/20 dark:focus-visible:ring-red-500/40 dark:bg-red-500/60 dark:bg-red-900 dark:[a&]:hover:bg-red-900/90 dark:focus-visible:ring-red-900/20 dark:dark:focus-visible:ring-red-900/40 dark:dark:bg-red-900/60",outline:"text-zinc-950 [a&]:hover:bg-zinc-100 [a&]:hover:text-zinc-900 dark:text-zinc-50 dark:[a&]:hover:bg-zinc-800 dark:[a&]:hover:text-zinc-50"}},defaultVariants:{variant:"default"}});function d(e){let{className:r,variant:i,asChild:a=!1,...d}=e,l=a?t.g7:"span";return(0,n.jsx)(l,{"data-slot":"badge",className:(0,s.cn)(c({variant:i}),r),...d})}},575:function(e,r,i){"use strict";i.d(r,{z:function(){return d}});var n=i(7437);i(2265);var t=i(9143),a=i(9769),s=i(2169);let c=(0,a.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-zinc-950 focus-visible:ring-zinc-950/50 focus-visible:ring-[3px] aria-invalid:ring-red-500/20 dark:aria-invalid:ring-red-500/40 aria-invalid:border-red-500 dark:focus-visible:border-zinc-300 dark:focus-visible:ring-zinc-300/50 dark:aria-invalid:ring-red-900/20 dark:dark:aria-invalid:ring-red-900/40 dark:aria-invalid:border-red-900",{variants:{variant:{default:"bg-primary text-zinc-50 shadow-xs hover:bg-primary/90 dark:bg-primary dark:text-white dark:hover:bg-primary/90",destructive:"bg-red-500 text-white shadow-xs hover:bg-red-500/90 focus-visible:ring-red-500/20 dark:focus-visible:ring-red-500/40 dark:bg-red-500/60 dark:bg-red-900 dark:hover:bg-red-900/90 dark:focus-visible:ring-red-900/20 dark:dark:focus-visible:ring-red-900/40 dark:dark:bg-red-900/60",outline:"border bg-white shadow-xs hover:bg-zinc-100 hover:text-zinc-900 dark:bg-zinc-200/30 dark:border-zinc-200 dark:hover:bg-zinc-200/50 dark:bg-zinc-950 dark:hover:bg-zinc-800 dark:hover:text-zinc-50 dark:dark:bg-zinc-800/30 dark:dark:border-zinc-800 dark:dark:hover:bg-zinc-800/50",secondary:"bg-zinc-100 text-zinc-900 shadow-xs hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",ghost:"hover:bg-zinc-100 hover:text-zinc-900 dark:hover:bg-zinc-100/50 dark:hover:bg-zinc-800 dark:hover:text-zinc-50 dark:dark:hover:bg-zinc-800/50",link:"text-zinc-900 underline-offset-4 hover:underline dark:text-zinc-50"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function d(e){let{className:r,variant:i,size:a,asChild:d=!1,...l}=e,o=d?t.g7:"button";return(0,n.jsx)(o,{"data-slot":"button",className:(0,s.cn)(c({variant:i,size:a,className:r})),...l})}},5671:function(e,r,i){"use strict";i.d(r,{Ol:function(){return s},SZ:function(){return d},Zb:function(){return a},aY:function(){return l},ll:function(){return c}});var n=i(7437);i(2265);var t=i(2169);function a(e){let{className:r,...i}=e;return(0,n.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-white text-zinc-950 flex flex-col gap-6 rounded-xl border border-zinc-200 py-6 shadow-sm dark:bg-zinc-950 dark:text-zinc-50 dark:border-zinc-800",r),...i})}function s(e){let{className:r,...i}=e;return(0,n.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...i})}function c(e){let{className:r,...i}=e;return(0,n.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",r),...i})}function d(e){let{className:r,...i}=e;return(0,n.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-zinc-500 text-sm dark:text-zinc-400",r),...i})}function l(e){let{className:r,...i}=e;return(0,n.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",r),...i})}},2782:function(e,r,i){"use strict";i.d(r,{I:function(){return a}});var n=i(7437);i(2265);var t=i(2169);function a(e){let{className:r,type:i,...a}=e;return(0,n.jsx)("input",{type:i,"data-slot":"input",className:(0,t.cn)("file:text-zinc-950 placeholder:text-zinc-500 selection:bg-zinc-900 selection:text-zinc-50 dark:bg-zinc-200/30 border-zinc-200 flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:file:text-zinc-50 dark:placeholder:text-zinc-400 dark:selection:bg-zinc-50 dark:selection:text-zinc-900 dark:dark:bg-zinc-800/30 dark:border-zinc-800","focus-visible:border-zinc-950 focus-visible:ring-zinc-950/50 focus-visible:ring-[3px] dark:focus-visible:border-zinc-300 dark:focus-visible:ring-zinc-300/50","aria-invalid:ring-red-500/20 dark:aria-invalid:ring-red-500/40 aria-invalid:border-red-500 dark:aria-invalid:ring-red-900/20 dark:dark:aria-invalid:ring-red-900/40 dark:aria-invalid:border-red-900",r),...a})}},8681:function(e,r,i){"use strict";i.d(r,{$:function(){return c},a:function(){return s}});var n=i(7437),t=i(2265);let a=(0,t.createContext)(void 0);function s(e){let{children:r}=e,[i,s]=(0,t.useState)(""),[c,d]=(0,t.useState)("");return(0,n.jsx)(a.Provider,{value:{title:i,setTitle:s,subtitle:c,setSubtitle:d},children:r})}function c(){let e=(0,t.useContext)(a);if(void 0===e)throw Error("useLayout must be used within a LayoutProvider");return e}},3549:function(e,r,i){"use strict";i.d(r,{g:function(){return s}});var n=i(7437),t=i(2265),a=i(2169);let s=t.forwardRef((e,r)=>{let{className:i,...t}=e;return(0,n.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",i),ref:r,...t})});s.displayName="Textarea"},4958:function(e,r,i){"use strict";i.d(r,{O:function(){return s}});var n=i(7176);let t="https://placeholder.supabase.co",a="placeholder_anon_key";if(!t||!a)throw Error("Missing Supabase environment variables. Please check your .env file.");let s=(0,n.eI)(t,a)},2169:function(e,r,i){"use strict";i.d(r,{cn:function(){return a},mr:function(){return c},p6:function(){return s},un:function(){return l},vV:function(){return o},xG:function(){return d}});var n=i(3167),t=i(1367);function a(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];return(0,t.m6)((0,n.W)(r))}function s(e){return new Intl.DateTimeFormat("en-AE",{dateStyle:"medium",timeZone:"Asia/Dubai"}).format(new Date(e))}function c(e){let[r,i]=e.split(":"),n=new Date;return n.setHours(parseInt(r),parseInt(i)),new Intl.DateTimeFormat("en-AE",{timeStyle:"short",timeZone:"Asia/Dubai"}).format(n)}function d(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"AED";return new Intl.NumberFormat("en-AE",{style:"currency",currency:r}).format(e)}function l(e){let r=e.replace(/\D/g,"");return r.startsWith("971")?"+".concat(r.slice(0,3)," ").concat(r.slice(3,5)," ").concat(r.slice(5,8)," ").concat(r.slice(8)):r.startsWith("0")&&10===r.length?"+971 ".concat(r.slice(1,3)," ").concat(r.slice(3,6)," ").concat(r.slice(6)):e}function o(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}}},function(e){e.O(0,[199,176,971,69,744],function(){return e(e.s=543)}),_N_E=e.O()}]);